<div class="signup">
    <mat-card>
        <mat-card-title>
            <h2>
                Sign-up 
            </h2>
        </mat-card-title>
        <mat-card-content>

            <mat-stepper [linear]="true" orientation="horizontal" #stepper>

                <mat-step [stepControl]="registerForm">
                    <form [formGroup]="registerForm" >
                        <ng-template matStepLabel>Fill out your details</ng-template>
                    
                        <div class="form-content">

                            <mat-form-field appearance="fill">
                                <mat-label>
                                    Username
                                </mat-label>
                                <input type="text" matInput formControlName="username">
                                <mat-error *ngIf="username.errors?.['required']">
                                    name is required
                                </mat-error>
                                <mat-error *ngIf="username.errors?.['minlength']">
                                    name should have minimum length of 2 characters
                                </mat-error>
                
                                <!-- <mat-error *ngIf="username.errors?.['pattern']">
                                    name should not contain numbers
                                </mat-error> -->

                            </mat-form-field>
            
                            <mat-form-field appearance="fill">
                                <mat-label>
                                    Contact No
                                </mat-label>
                                <input type="text" matInput formControlName="contactno">
                                <mat-error *ngIf="contactno.errors?.['required']">
                                    contact no is required
                                </mat-error>
                                <mat-error *ngIf="contactno.errors?.['pattern']">
                                    contact must be a 10 digit number
                                </mat-error>


                            </mat-form-field>
            
                            <mat-form-field appearance="fill">
                                <mat-label>
                                    Email
                                </mat-label>
                                <input type="email" matInput formControlName="email">
                                <mat-error *ngIf="email.errors?.['required']">
                                    e-mail should not be left blank
                                </mat-error>
                                <mat-error *ngIf="email.errors?.['pattern']">   
                                    e-mail address should  be in valid  format
                                </mat-error>

                            </mat-form-field>
                            <!-- <div class="field-container">
                                <mat-form-field appearance="fill">
                                    <mat-label>
                                        Password
                                    </mat-label>
                                    <input [type]="showPassword ? 'text' : 'password'" matInput formControlName="password">
                                    <mat-icon matSuffix (click)="showPassword = !showPassword" class="eye-icon">
                                        {{showPassword ? 'visibility_off' : 'visibility'}}
                                    </mat-icon>
                                    <mat-error *ngIf="password.errors?.['required']">
                                        password should not be left blank
                                    </mat-error>
                                    <mat-error *ngIf="password.errors?.['pattern']">
                                        should have a minimum 8 characters with at least one symbol, one upper-case letter, one lower-case letter, and one number             
                                    </mat-error>

                                </mat-form-field>

                                <mat-form-field appearance="fill">
                                    <mat-label>
                                        Confirm Password
                                    </mat-label>
                                    <input type="password" matInput formControlName="confirmPassword">
                                    <mat-error *ngIf="confirmPassword.errors?.['required'] ">
                                        should not be left blank
                                    </mat-error>
                                    <mat-error *ngIf="confirmPassword.errors?.['pattern']">
                                        minimum 8 characters with at least one symbol, one upper-case letter, one lower-case lestter, and one number             
                                    </mat-error>
                                </mat-form-field>

                            </div>
                            
                            <div class="form-error" *ngIf="registerForm.hasError('passwordMismatch') && (confirmPassword.dirty || confirmPassword.touched)">
                                <mat-error >
                                    Passwords do not match.
                                </mat-error> 
                            </div> -->
                        </div>
               

        
                    </form>
        
                </mat-step>
                <mat-step [stepControl]="addressForm" [optional]="true" >
                    <form [formGroup]="addressForm">
                        <ng-template matStepLabel>Fill out your address</ng-template>
                      
                        <div class="form-content">

                            <div class="field-container">
                              <mat-form-field appearance="fill">
                                <mat-label>State</mat-label>
                                <mat-select matInput formControlName="state" (selectionChange)="stateChange($event)">
                                  <mat-option disabled>Select a state</mat-option>                            
                                  <mat-option *ngFor="let state of _states" [value]="state">{{ state }}</mat-option>
                                </mat-select>
                                <mat-error *ngIf="state.errors?.['required']">
                                    state is required
                                </mat-error>

                              </mat-form-field>
                          
                              <mat-form-field appearance="fill">
                                <mat-label>City</mat-label>
                                <mat-select matInput formControlName="city">
                                  <mat-option disabled>Select a city</mat-option>
                                  <mat-option *ngFor="let city of _cities" [value]="city">{{ city }}</mat-option>
                                </mat-select>
                                <mat-error *ngIf="city.errors?.['required']">
                                    city is required
                                </mat-error>

                              </mat-form-field>
                            </div>
                          
                          
                            <mat-form-field appearance="fill">
                              <mat-label>Street</mat-label>
                              <input type="text" matInput formControlName="street">
                              <mat-error *ngIf="street.errors?.['required']">
                                street is required
                            </mat-error>

                            </mat-form-field>
                          
                            <div class="field-container">
                                <mat-form-field appearance="fill">
                                  <mat-label>Door No</mat-label>
                                  <input type="text" matInput formControlName="doorNo">
                                  <mat-error *ngIf="doorNo.errors?.['required']">
                                    doorNo is required
                                </mat-error>

                                </mat-form-field>
                              
                                <mat-form-field appearance="fill">
                                  <mat-label>Zip Code</mat-label>
                                  <input type="text" matInput formControlName="zipcode">
                                  <mat-error *ngIf="zipcode.errors?.['required']">
                                    zipcode is required
                                </mat-error>
                                <mat-error *ngIf="zipcode.errors?.['pattern']">
                                    zipcode must be a 5 or 6 digit number 
                                </mat-error>


                                </mat-form-field>
                            </div>

                        </div>
                      </form>
                </mat-step>
                
            </mat-stepper>
            
        </mat-card-content>
        <mat-card-actions>
            <button mat-fab extended color="primary" (click)="signup()" 
            [disabled]="registerForm.invalid || addressForm.invalid">
                signup
            </button>
            <!-- <button mat-flat-button color="warn" (click)="cancel()">
                cancel
            </button> -->
            <p>
                Already have an  account? <a [routerLink]="['/login']" routerLinkActive="router-link-active" >login</a>
            </p>
      
        </mat-card-actions>
    </mat-card>

</div>